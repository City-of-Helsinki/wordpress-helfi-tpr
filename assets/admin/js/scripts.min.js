"use strict";!function(t){var e=t.importButtons,i=t.ajax;if(console.log(e),0<e.length)for(var n=0;n<e.length;n++)e[n].addEventListener("click",a);function a(t){t.preventDefault(),function(e){e.disabled=!0;var n=e.nextElementSibling;n.style.visibility="visible";var t=new FormData;t.append("action","helsinki_import_tpr_unit"),t.append("id",e.getAttribute("data-tpr-id")),t.append("title",e.getAttribute("data-tpr-title")),console.log(e.getAttribute("data-tpr-id")),function(i,a){return new Promise(function(t,e){var n=new XMLHttpRequest;n.open("POST",i),n.onload=function(){(200<=this.status&&this.status<300?t:e)(n.response)},n.onerror=function(){e({status:this.status,message:n.statusText})},n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a)})}(i.ajaxUrl,t).then(function(t){t&&(t=JSON.parse(t),console.log(t.data.link_html)),n.style.visibility="hidden",e.parentElement.innerHTML=t.data.link_html}).catch(function(t){n.style.visibility="hidden",e.disabled=!1})}(t.currentTarget)}}({search:document.querySelectorAll(".helsinki-tpr-search"),importButtons:document.querySelectorAll(".helsinki-tpr-import-button"),ajax:helsinkiTPR}),function(){var e,t={container:document.querySelectorAll("#helsinki-tpr-unit")}.container;if(0<t.length)for(var n=0;n<t.length;n++)!function(n){e=n.querySelectorAll(".nav-tab");var i=n.querySelector(".nav-tab-active");n.querySelectorAll(".post-tpr-data");for(var a=n.querySelector(".post-tpr-data.active"),t=0;t<e.length;t++)e[t].addEventListener("click",function(t){var e=t.currentTarget,t=n.querySelector("."+e.getAttribute("data-container"));e!=i&&(i.classList.remove("nav-tab-active"),a.classList.remove("active"),e.classList.add("nav-tab-active"),t.classList.add("active"),i=e,a=t)})}(t[n])}();